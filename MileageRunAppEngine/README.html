<html><head><title>APT Fall 2011 Miniproject 2 Summary Report, by Jing-Tang Keith Jang</title><style type="text/css">ol{margin:0;padding:0}p{margin:0}.c15{margin-right:-63pt;text-indent:-18pt;direction:ltr;margin-left:-4.5pt}.c14{padding-left:0pt;margin-right:-63pt;direction:ltr;margin-left:-18pt}.c10{padding-left:0pt;margin-right:-63pt;direction:ltr;margin-left:4.5pt}.c12{margin-right:-63pt;text-indent:-18pt;direction:ltr;margin-left:-22.5pt}.c2{padding-left:0pt;margin-right:-63pt;direction:ltr;margin-left:-4.5pt}.c1{padding-left:0pt;margin-right:-63pt;direction:ltr;margin-left:-22.5pt}.c3{list-style-type:disc;margin:0;padding:0}.c13{width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c16{margin-right:-63pt;text-indent:-40.5pt;direction:ltr}.c4{margin-right:-63pt;direction:ltr;margin-left:-40.5pt}.c6{margin-right:-63pt;text-align:center;direction:ltr}.c11{list-style-type:square;margin:0;padding:0}.c0{list-style-type:circle;margin:0;padding:0}.c5{color:inherit;text-decoration:inherit}.c8{color:#000099;text-decoration:underline}.c9{font-size:14pt}.c7{font-weight:bold}body{color:#000000;font-size:11pt;font-family:Arial}h1{padding-top:24pt;color:#000000;font-size:24pt;font-family:Arial;font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;color:#000000;font-size:18pt;font-family:Arial;font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;color:#000000;font-size:14pt;font-family:Arial;font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;color:#000000;font-size:12pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}h5{padding-top:11pt;color:#000000;font-size:11pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;color:#000000;font-size:10pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}</style></head><body class="c13"><a href="#" name="id.obwss6x0gil"></a><p class="c6"><span class="c7 c9">Miniproject 2 Summary Report</span></p><p class="c16"><span class="c7">Google App Engine tutorials</span><span>:</span></p><ol class="c3" start="1"><li class="c1"><span>Finished the guestbook tutorial. &nbsp;The url is </span><span class="c8"><a class="c5" href="http://keith-apt-tut.appspot.com/">http://keith-apt-tut.appspot.com/</a></span></li><li class="c1"><span>Finished the codelab exercise up to and including the Mail API in Step 3 as required. &nbsp;The url is </span><span class="c8"><a class="c5" href="http://apt-codelabex3.appspot.com/">http://apt-codelabex3.appspot.com/</a></span></li><li class="c1"><span>All the features in the tutorial and exercises are implemented.</span></li></ol><p class="c4"><span class="c7">MileageRun web service</span><span>&nbsp;at </span><span class="c8"><a class="c5" href="http://mileagerun-apt.appspot.com">http://mileagerun-apt.appspot.com</a></span><span>:</span></p><ol class="c3" start="1"><li class="c1"><span>The web service is implemented using Javascript/AJAX, Java servlet, and stylesheets. &nbsp;Here are the implementation details.</span></li></ol><ol class="c0" start="1"><li class="c2"><span>Use one div block in the stylesheet for each screenshot in the mock UI. &nbsp;</span></li><li class="c2"><span>Upon receiving user inputs/clicks, the javascript will show or hide the div blocks, and pass values to the Java servlet using AJAX.</span></li><li class="c2"><span>After Javascript receives responses from the Java servlet, it uses show() and html() to re-write the div blocks with the formatted responses from Java servlets.</span></li></ol><p class="c12"><span>&nbsp; &nbsp; &nbsp; The web service was implemented this way since the mock UI does not have variable values in the URL (i.e. &ldquo;login.js?var1=val1&amp;var2=val2&rdquo;). &nbsp;I was not aware that user values can be sent to Java servlets directly until seeing Professor&rsquo;s examples on Piazza. &nbsp;If I were going to do it again, then I&rsquo;d probably implememt everything using Java servlets only.</span></p><ol class="c3" start="2"><li class="c1"><span>Login: Implemented using Google&rsquo;s user service.</span></li><li class="c1"><span>Implement the Add/Delete/View/Test functions for alert management.</span></li></ol><ol class="c0" start="1"><li class="c2"><span>For the add-alert function, check if the required input fields are empty or not.</span></li><li class="c2"><span>I implemented the delete-alert function by cascading deletion in the database. &nbsp;That is, if an alert is deleted, then all Kayak deals associated with that alert are also deleted.</span></li><li class="c2"><span>For the view function, my web service will display top 100 results found, ordered by the cost per mile.</span></li><li class="c2"><span>For the test function,</span></li></ol><ol class="c11" start="1"><li class="c10"><span>If an alert was entered correctly, then my program outputs the traversal of the XML file returned from Kayak.</span></li><li class="c10"><span>If the airport scraper found an invalid airport code in the alert, then my program will display an error message.</span></li><li class="c10"><span>If the Kayak scraper found an invalid airport code in the alert, then my program will display an error message. Kayak lab seems to accept more airport codes than the airport scraper (http://www.world-airport-codes.com), so my program tests the airport scraper before the Kayak scraper.</span></li><li class="c10"><span>My program also catches and displays the stack trace if the scrapers throws an UnknownHostException.</span></li></ol><ol class="c3" start="4"><li class="c14"><span>For the cron job, I implement three features. First my program removes outdated alerts (also the associated deals). &nbsp;Second my program fetches new deals and caches them in the database. Finally it sends emails to the corresponding user. I have tested all three functions and they are working correctly.</span></li><li class="c14"><span>Problems encountered:</span></li></ol><ol class="c0" start="5"><li class="c2"><span>Since I use Javascript to re-write the div blocks, the client browser thinks it&rsquo;s displaying the same page. &nbsp;As a result, users cannot use the browser&rsquo;s back and forward buttons.</span></li></ol><p class="c15"><span class="c7">&nbsp; &nbsp; &nbsp; Solution </span><span>I add a &ldquo;navigation panel&rdquo; at the end of the page. &nbsp;Other possible solutions include using Java servlets all the way, or use AJAX to remember the hash of each page.</span></p></body></html>
